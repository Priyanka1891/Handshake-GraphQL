(function(){var e=PaymentsPortal2.modules.define;e("components/ChooseAddressPostPayComponent",["components/SelectAddressComponent","lang","jQuery","css-utils"],function(d,b,e,a){var c;return d.extend({initialize:function(a,c){this.$validateAgreeAndSendOTPButton=this.getDOMElement("validateAgreeAndSentOTP");this.postPayAddressSelectedEventWebLabEnabled=c.data.postPayAddressSelectedEventWebLabEnabled},bindToEvents:function(){this.widget.on("addressRowSelected",this,function(a){this._logPostPayJsMetric("addressRowSelectedEvent observed with ",
a.addressId);c=a.addressId});this.widget.on("sendDefaultAddressRowSelected",this,function(b){this._logPostPayJsMetric("sendDefaultAddressRowSelectedEvent observed with default addresID ",b.addressId);c=b.addressId;this._isValidAddressId(c)||a.disableElement(this.$validateAgreeAndSendOTPButton)})},bindToElements:function(){this.$validateAgreeAndSendOTPButton.click(b.bind(this._clickValidateAgreeAndSendOTP,this))},_clickValidateAgreeAndSendOTP:function(a){this._logPostPayJsMetric("addressID submitted ",
c);this._isValidAddressId(c)&&(this.postPayAddressSelectedEventWebLabEnabled?this.widget.submitFormAJAX({"ppw-widgetEvent":"PostPayAddressSelectedEvent","ppw-addressId":c,"ppw-widgetState":this.widget.options.serializedState}):this.widget.submitFormAJAX({"ppw-widgetEvent":"SelectAddressEvent","ppw-addressSelection":c,"ppw-widgetState":this.widget.options.serializedState}))},_logPostPayJsMetric:function(a,c){console.log(a+c)},_isValidAddressId:function(a){return!("undefined"===typeof a||null===a||
""===a)}})});e("components/RegisterPostPayComponent",["form-component","lang"],function(d,b){return d.extend({bindToElements:function(){this.getDOMElement("registerPostPayContinueButtonJSBinding").click(b.bind(this._handleContinueToBillingAddressFormSubmission,this))},_handleContinueToBillingAddressFormSubmission:function(b){0===this.form.validateForm().length?this.getDOMElement("registerPostPayDetailFormJSBinding").submit():b.preventDefault()}})});e("components/ValidatePostPayComponent",["jQuery",
"form-component","lang"],function(d,b,e){return b.extend({bindToElements:function(){this.getDOMElement("confirmOTPSubmitButton").click(e.bind(this._handleConfirmOTPFormSubmission,this));var a=this;d("input:radio[name=ppw-resendOTPSelection]").change(function(){a._toggleResendOTPButtonText()})},_handleConfirmOTPFormSubmission:function(a){0===this.form.validateForm().length?this.getDOMElement("confirmOTPForm").submit():(this.getDOMElement("OTPSentViaDispatchText").addClass("apx-js-hide"),a.preventDefault())},
_toggleResendOTPButtonText:function(){var a=this.getDOMElement("resendOTPSelection-sms").is(":checked"),c=this.getDOMElement("sendViaSMS"),b=this.getDOMElement("sendViaVoice");a?(b.addClass("apx-js-hide"),c.removeClass("apx-js-hide")):(c.addClass("apx-js-hide"),b.removeClass("apx-js-hide"))}})});e("components/AddPostPayWorkflowComponent",["component","css-utils"],function(d,b){return d.extend({initialize:function(){b.showElement(this.getDOMElement("pmtsPostPayCreatableWrapper"))}})});e("components/SelectablePostPayListComponent",
["component","css-utils"],function(d,b){return d.extend({initialize:function(){b.showElement(this.getDOMElement("pmtsPostPaySelectableWrapper"))}})});e("components/SelectablePostPayListItemComponent",["components/SelectableDPMInstrumentListItemComponent","events/InstrumentRowSelectedEvent","lang"],function(d,b,e){return d.extend({initialize:function(){this.$PostPaySelectedNote=this.getDOMElement("pmtsPostPaySelectNote");this.$isDisabled=this.getDOMElementsByPrefix("POAInstrumentContainer").data("disabled")},
_triggerInstrumentRowSelectedEvent:function(a){this.widget.trigger(b,{instrumentId:a.instrumentId})},bindToEvents:function(){var a=this;a.widget.on("initializeRecommendedInstrument",a,function(b){b.instrumentId!==a._instrumentId||this.$isDisabled||(a._poaInstrumentSelected(),a._triggerInstrumentRowSelectedEvent(b))});a.widget.on(b,a,function(b){b.instrumentId===a._instrumentId?this.$PostPaySelectedNote.removeClass("apx-js-hide"):this.$PostPaySelectedNote.addClass("apx-js-hide");this._instrumentRowSelected(b.instrumentId)})}})})})();

(function(){var c=PaymentsPortal2.modules.define;c("components/AmazonBusinessCreditComponent","component jQuery lang css-utils events/InstrumentRowSelectedEvent public-event-registry continuable".split(" "),function(c,k,f,e,d,g,h){return c.extend(h,{initialize:function(a,b){this.currentInstrumentId=b.data.abcInstrumentId;this.abcBalance=b.data.abcBalance;this.purchaseTotal=b.data.abcPurchaseTotal;(this.isComponentGreyedOut=b.data.abcComponentGreyOut)||g.register(d);this.bindToEvents()},_amazonBusinessCreditOptionClicked:function(a){this._isAmazonPayBalanceSelected()||
this.isComponentGreyedOut||this.widget.trigger(d,{instrumentId:this.currentInstrumentId})},_showAmazonBusinessCreditGreyedMessageElement:function(){e.showElement(this.getDOMElement("amazonBusinessCreditUnavailableMessage"))},_hideAmazonBusinessCreditGreyedMessageElement:function(){e.hideElement(this.getDOMElement("amazonBusinessCreditUnavailableMessage"))},_getABCDisplayElement:function(){return this.getDOMElementsByPrefix("amazonBusinessCreditMessage")},_getABCRadioButtonDisplayElement:function(){return this.getDOMElementsByPrefix("abcRadioButtonDisplay")},
_disableAmazonBusinessCreditOption:function(){this._getAmazonBusinessCreditContainer().removeClass("pmts-selected").addClass("pmts-disabled-section");var a=this.widget.getLocalizedString("apx_abc_select_your_available_amazon_business_credit_balance",{amazon_business_credit_balance:this.abcBalance});this._getABCDisplayElement().html(a);this._getABCRadioButtonDisplayElement().addClass("pmts-pm-disabled");this._showAmazonBusinessCreditGreyedMessageElement();this._getInstrumentSelectionInputElement().prop("disabled",
!0);this._getInstrumentSelectionInputElement().prop("checked",!1);this.isABCContinuable=!1},_getInstrumentSelectionInputElement:function(){return this.getDOMElement("instrumentRowSelection-"+this.currentInstrumentId)},_enableAmazonBusinessCreditOption:function(){this._getAmazonBusinessCreditContainer().removeClass("pmts-disabled-section");var a=this._getABCDisplayElement(),b=this.widget.getLocalizedString("apx_abc_select_use_some_of_your_available_amazon_business_credit_balance",{amazon_business_credit_balance:this.abcBalance,
amount_to_use:this.purchaseTotal});a.html(b);this._getABCRadioButtonDisplayElement().removeClass("pmts-pm-disabled");this._hideAmazonBusinessCreditGreyedMessageElement();this._getInstrumentSelectionInputElement().prop("disabled",!1)},_isAmazonPayBalanceSelected:function(){return this.widget.get("apbCheckboxSelected")},_triggerBackingInstrumentSelectedEvent:function(){var a=this.isABCContinuable?[]:[this.widget.getLocalizedString("pmts_portal_payselect_empty_instrument_selection")];this.widget.trigger("backingInstrumentSelected",
{instrumentId:this.currentInstrumentId,errors:a})},_getAmazonBusinessCreditContainer:function(){return this.getDOMElementsByPrefix("abcContainer")},bindToEvents:function(){var a=this;this.getDOMElementsByPrefix("abcContainer").click(f.bind(this._amazonBusinessCreditOptionClicked,this));a.widget.on(d,a,function(b){b.instrumentId!==a.currentInstrumentId||this.isComponentGreyedOut||this._isAmazonPayBalanceSelected()?(this._getAmazonBusinessCreditContainer().removeClass("pmts-selected"),this._getInstrumentSelectionInputElement().prop("checked",
!1)):(this._getAmazonBusinessCreditContainer().addClass("pmts-selected"),this._getInstrumentSelectionInputElement().prop("checked",!0),this.isABCContinuable=!0,this._triggerBackingInstrumentSelectedEvent())});a.widget.on("componentsInitialized",a,function(){!this.isComponentGreyedOut&&this._isAmazonPayBalanceSelected()&&this._disableAmazonBusinessCreditOption()});a.widget.on("apbSelectionChanged",a,function(a){this.isComponentGreyedOut||(this._isAmazonPayBalanceSelected()?(this._disableAmazonBusinessCreditOption(),
this._triggerBackingInstrumentSelectedEvent()):this._enableAmazonBusinessCreditOption())})}})})})();
